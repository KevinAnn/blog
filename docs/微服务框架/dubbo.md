# Dubbo

## 一、什么是Dubbo

> 主要是一个分布式服务治理解决方案，那么什么是服务治理？服务治理主要是针对大规模服务化以后，服务之间的路由、负载均衡、容错机制、服务降级这些问题的解决方案，而 Dubbo 实现的不仅仅是远程服务通信，并且还解决了服务路由、负载、降级、容错等功能。

## 二、dubbo的基本使用

我们如果需要自己开发一个网络通信，需要考虑到

- 底层网络通信协议的处理
- 序列化和反序列化的处理工作

我认为到目前为止，还只是满足了通信的基础需求，但是当企业开始大规模
的 服务化以后， 远程通信带来的弊端就越来越明显了。比如说

- ​	服务器链路变长了，如何实现对服务链路的跟踪和监控了
- ​    服务的大规模集群是的服务之间需要依赖第三方注册中心来解决服务的发现和感知
- ​     服务通信之间的异常，需要有一种保护机制防止一个节点故障引发大规模的系统障碍，所以要有容错机制
- ​     服务大规模集群会是的客户端需要引入负载均衡机制实现请求分发





## 三、spi机制



### 1.java的spi机制

Java SPI是jdk内置的一种动态加载扩展点的实现。

1. 需要子classpath下面创建一个目录，命名为：META-INF/service
2. 在该目录下创建一个properties文件，改文件需要满足一下几个条件
   -   文件名必须是扩展的接口的全路径名称
   -    文件内部描述的是该扩展接口的所有实现类
   - 文件的编码格式是UTF-8
3. 通过java.util.ServiceLoader的加载机制来发现

java spi的实际应用



jdbc驱动。

jdk本身的Driver是一个借口，里面没有实现，实现的机制交给 mysql  sqlserver的本身。

![image-20200716103428937](https://gitee.com/anqingjieer/pengbo/raw/master/img/20200716103504.png)

### 2.Dubbo的spi机制

java本身的spi机制的缺点

- 需要遍历所有的实现，并实例化，然后我们再循环中才能找到我们需要的实现
- 做不到自动注入和装配
- 不提供类似spring的IOC和aop功能





