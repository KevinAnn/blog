# 图解HTTP

## 一、http基础

### 什么是http

超文本传输协议：完成客户端到服务端传输数据的一套流程

### tcp传输控制协议

三次握手保证客户端的发送数据，接受数据是完整的

![TIM截图20200513153056](https://gitee.com/anqingjieer/pengbo/raw/master/img/20200513153116.png)

> 1.首次握手，将数据发送到服务端，确保发送功能正确
>
> 2.二次握手，将原数据和服务器数据发送，发送syn，表示我这边已经接收到了，发送ack表示发送功能正常.
> 3.客户端发送ack , 表示我这边已经接受到了，你发送的数据

### IP协议：将数据包发送给对方，通过IP地址和Mac

Mac地址是通过rap协议从ip地址获取到的，ip可变，Mac不可变

### dns解析，将域名解析成服务器的地址

![TIM截图20200513153222](https://gitee.com/anqingjieer/pengbo/raw/master/img/20200513153310.png)

### URI和URL的区别

URI是能够具体到服务器的文件地址

URL是表示资源的地址

## 简单的http协议

### 告诉服务器意图的方法

- 1.get获取资源
- 2.传输实体主体
- 3.put传输文件
- 4.HEAD获取首部
- 5.删除文件

### 持久连接节省流量

- 1.只要有一端没有断连接，这个连接就不会断
- 2.使用持久连接，可以节省流量和tcp连接的通信消耗

### 使用cooike进行管理

- 1.解决每次登陆都要进行登陆验证
- 2每次验证时，都要讲cookie发送到服务端，服务端判定cookie有没有过期

## HTTP中的报文信息

### 范围请求

- 1.指定范围发送的请
求叫做范围请求，用于解决连接中断下载文件，需要重新连接下载的问题

### 内容协商返回结果

内容协商机制是指客户端和服务器端就响应的资源内容进行交涉，然

后提供给客户端最为适合的资源。内容协商会以响应资源的语言、字

符集、编码方式等作为判断的基准。

- 服务器驱动协商
- 客户端驱动协商
- 透明协商

## 返回结果的http状态码

### 1XX

- 表示正在处理

### 2XX

- 表示成功

### 3XX

- 需要进行附加操作才能完成

### 4XX

- 服务器无法处理请求

### 5XX

- 服务器处理请求出错

## HTTPS的安全机制

### http缺点

- 无法证明报文的完整性，所以有可能已遭篡改
- 不验证通信方的身份，因此有可能遭遇伪装
- 通信使用明文（不加密），内容可能会被窃听

### 使用https进行验证安全性



![https安全](https://gitee.com/anqingjieer/pengbo/raw/master/img/20200513153518.png)使用https吗

- 加密解密会消耗CPU的处理，导致速度会变得很慢
- 1.在登陆密码，支付重要场合使用https,一般的交互使用http

*XMind - Trial Version*